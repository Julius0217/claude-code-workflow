# 리팩토링 프롬프트

## 코드 구조 개선

### 함수 분리
```
src/services/order.ts의 processOrder 함수가 200줄이 넘어.
다음 원칙에 따라 작은 함수들로 분리해줘:
- 단일 책임 원칙
- 각 함수는 50줄 이내
- 함수명은 동작을 명확히 표현
- 기존 동작은 그대로 유지

먼저 분리 계획을 세우고, 단계적으로 진행해줘.
```

### 중복 제거
```
src/components/ 디렉토리에서 비슷한 패턴의 코드가 반복되고 있어:
- UserCard, ProductCard, OrderCard가 거의 동일한 구조
- 각각 다른 데이터 타입만 사용

공통 컴포넌트로 추출하고, 제네릭으로 타입 안전성을 유지해줘.
```

### 조건문 단순화
```
src/utils/permissions.ts의 checkPermission 함수가 복잡해:
- 중첩된 if문이 5단계
- 조건이 뒤엉켜 있음

early return 패턴과 guard clause를 적용해서 단순화해줘.
```

## 패턴 적용

### 디자인 패턴 도입
```
src/services/notification.ts에 Strategy 패턴을 적용해줘:
- 현재: if-else로 채널별 분기 (email, sms, push)
- 목표: 각 채널을 별도 전략 클래스로 분리
- 새 채널 추가가 쉬워야 함
```

### Repository 패턴
```
데이터 접근 로직을 Repository 패턴으로 리팩토링해줘:
- 현재: 컴포넌트에서 직접 API 호출
- 목표: Repository 레이어 분리
- 테스트 시 쉽게 모킹 가능하도록
```

## 타입 개선

### any 제거
```
src/ 디렉토리에서 any 타입을 사용하는 곳을 찾아서
구체적인 타입으로 변경해줘.

우선순위:
1. 함수 파라미터
2. 반환 타입
3. 변수 선언
```

### 타입 정의 개선
```
src/types/api.ts의 타입 정의를 개선해줘:
- 중복된 타입 통합
- 유니온 타입으로 상태 표현
- 유틸리티 타입 활용 (Pick, Omit, Partial)
```

## 성능 최적화

### 불필요한 연산 제거
```
이 코드의 불필요한 연산을 최적화해줘:
- 반복문 내 불변값 캐싱
- 조기 종료 조건 추가
- 불필요한 배열 복사 제거
```

### 메모이제이션 적용
```
Dashboard 컴포넌트에 적절한 메모이제이션을 적용해줘:
- useMemo: 계산 비용이 큰 값
- useCallback: props로 전달되는 함수
- memo: 자주 리렌더링되는 자식 컴포넌트
```
